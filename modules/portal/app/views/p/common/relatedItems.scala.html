@(item: DescribedMeta[_,_], links: Seq[Link], watched: List[AnyModel])(implicit userOpt: Option[UserProfile], req: RequestHeader, lang: Lang, globalConfig: global.GlobalConfig)

@for(apt <- AccessPointF.AccessPointType.values.toSeq) {
    @defining(AccessPoint.linksOfType(item.externalLinks(links), apt)) { linksOfType =>
        @if(!linksOfType.isEmpty) {
            <h4>@Messages("accessPoint.type." + apt.toString)</h4>
            <ul class="list-unstyled item-links">
                @for(link <- linksOfType) {
                <li>
                    @link.opposingTarget(item).map { t =>
                        @p.listItem(t, watched = watched.exists(_.id == t.id))
                    }
                    @link.model.description.map { desc =>
                    <small>
                        @desc
                    </small>
                    }
                </li>
                }
            </ul>
        }
    }
}
