@(item: DescribedMeta[_,_], links: Seq[Link], watched: List[AnyModel])(implicit userOpt: Option[UserProfile], req: RequestHeader, lang: Lang, globalConfig: global.GlobalConfig)

@defining(item.accessPointLinksByType(links)) { links =>
    @for(apt <- AccessPointF.AccessPointType.values.toSeq) {
        @links.get(apt).map { linksOfType =>
            <h4>@Messages("accessPoint.type." + apt.toString)</h4>
            <ul class="list-unstyled item-links">
                @for((link, accessPoint) <- linksOfType) {
                <li>
                    @link.opposingTarget(item).map { t =>
                        @p.listItem(t, watched = watched.exists(_.id == t.id))
                    }
                    @link.model.description.map { desc =>
                    <small>
                        @desc
                    </small>
                    }
                </li>
                }
            </ul>
        }
    }
}
