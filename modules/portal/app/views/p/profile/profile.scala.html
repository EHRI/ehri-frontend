@(watchList: utils.AbstractPage[models.base.AnyModel], annotations: utils.AbstractPage[Annotation], links: utils.AbstractPage[Link])(implicit userOpt: Option[UserProfile], req: RequestHeader, globalConfig: global.GlobalConfig, lang: Lang, flash: Flash)

@* user should always be defined here *@
@userOpt.map { user =>
    @p.layout.portalLayout(user.toStringLang) {
        @p.layout.breadcrumbs(showHome = false) {
            <li>&nbsp;</li>
        }

        <div class="row info-bar">
            <div class="container">
                <div class="header-controls pull-right">
                    <a class="btn btn-sm btn-info" href="@controllers.portal.routes.Portal.updateProfile">
                        <span class="glyphicon glyphicon-wrench"></span>
                        @Messages("portal.profile.updateProfile")
                    </a>
                </div>

                <h1>@Messages("portal.profile")</h1>
            </div>
        </div>


        <div class="row">
            <div class="container">
                <div class="col-sm-2">
                    <p>
                    @p.social.profileForUser(user)
                </div>
                <div class="col-sm-10">
                    <p>

                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#user-watch-list" data-toggle="tab">@Messages("portal.social.watchedItems")</a></li>
                        <li><a href="#user-annotations" data-toggle="tab">@Messages("portal.social.annotations")</a></li>
                        <li><a href="#user-links" data-toggle="tab">@Messages("portal.social.links")</a></li>
                    </ul>

                    <div class="tab-content tab-content-panel">
                        <div class="tab-pane active panel-body" id="user-watch-list">
                            @itemWatchList(user, watchList)
                        </div>
                        <div class="tab-pane  panel-body" id="user-annotations">
                            <p>
                            TODO
                        </div>
                        <div class="tab-pane  panel-body" id="user-links">
                            <p>
                            TODO
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
}
