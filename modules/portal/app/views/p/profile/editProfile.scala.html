@(profileForm: play.api.data.Form[ProfileData], pwForm: Form[(String,String,String)])(implicit userOpt: Option[UserProfile], request: RequestHeader, prefs: utils.SessionPrefs, globalConfig: global.GlobalConfig, lang: Lang, flash: Flash, token: play.filters.csrf.CSRF.Token)

@p.layout.portalLayout(Messages("portal.profile.updateProfile")) {
    @p.layout.infobar {
    } {
        <h1>@Messages("portal.profile.updateProfile")</h1>
    } {
    }

    @p.layout.mainContent {
        <fieldset>
            <legend>@Messages("portal.profile.updateProfile")</legend>
            @editProfileForm(profileForm, controllers.portal.routes.Portal.updateProfilePost)
        </fieldset>

        <fieldset>
            <legend>@Messages("portal.profile.changePassword")</legend>
            @p.account.changePasswordForm(pwForm, controllers.portal.routes.Portal.changePasswordPost)
        </fieldset>

        <fieldset>
            <legend>@Messages("portal.profile.deleteProfile")</legend>
            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8">
                    <a href="@controllers.portal.routes.Portal.deleteProfile" class="btn btn-danger">@Messages("portal.profile.deleteProfileLink")</a>
                </div>
            </div>
        </fieldset>
    }
}
