@(location: String, menu: (Guide, List[GuidePage]), sidebar: Option[Html] = None)(implicit request: RequestHeader, lang: Lang)

@sidebar match {
	case Some(htm) => {
		<div class="well">
			<article>
				@htm
			</article>
		</div>
		<hr />
	}
	case _ => { }
}

<div class="well">
	<ul class="nav nav-pills nav-stacked">

		@for(page <- menu._2) {
			@if(page.position == GuidePage.MenuPosition.Side) {
				<li><a @if(location == page.path) { class="active" } href="@controllers.portal.routes.Guides.layoutRetrieval(menu._1.path, page.path)">@page.name</a></li>
			}
		}
		<li><a href="@controllers.portal.routes.Guides.listGuides()">@Messages("guides")</a></li>
	</ul>
</div>

<hr />

<div class="well">
	<article>
		@Html(views.Helpers.renderMarkdown(menu._1.description.getOrElse("")))
	</article>
</div>

<hr />