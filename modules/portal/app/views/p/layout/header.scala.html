@()(implicit userOpt: Option[UserProfile], request: RequestHeader, prefs: utils.SessionPrefs, lang: Lang, globalConfig: global.GlobalConfig)


<header id="header" class="navigation">
    <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#navbar-admin" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div id="navbar-admin" class="navbar-collapse collapse">
                @userOpt.map { _ =>
                <ul class="nav navbar-nav">
                    <li class="@views.Helpers.maybeActive(controllers.portal.social.routes.Social.personalisedActivity().url)">
                        <a href="@controllers.portal.social.routes.Social.personalisedActivity()">@Messages("portal.activity")</a>
                    </li>
                    <li class="@views.Helpers.maybeActivePath(controllers.portal.social.routes.Social.browseUsers.url)">
                        <a href="@controllers.portal.social.routes.Social.browseUsers">@Messages("portal.social.users")</a>
                    </li>
                </ul>
                }

                <ul class="account-admin nav navbar-nav navbar-right">
                    <li>
                        @helper.form(action = controllers.portal.routes.Portal.search, 'class -> "global-search", 'role
                        -> "search") {
                        <input type="text" name="q" id="quicksearch" placeholder="@Messages("portal.search")"
                        style="margin-top: 3px; max-height: 20px;" />
                        }
                    </li>
                    @userOpt.map { user =>
                    <li class="view-options">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <span class="glyphicon glyphicon-wrench"></span>
                        </a>
                        <ul class="boolean-preferences dropdown-menu pull-right" role="menu">
                            <li>
                                <a href="#" class="toggle-boolean-preference boolean-@prefs.showUserContent"
                                   data-preference-name="showUserContent"
                                   data-preference-value="@prefs.showUserContent">
                                    @Messages("portal.preferences.showUserContent")
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="@controllers.portal.profile.routes.Profile.profile" class="gravitar">
                            <img height="20" width="20" class="user-img-icon"
                                 src="@views.p.Helpers.gravitar(user.model.imageUrl)"/>
                            @user.model.name
                        </a>
                    </li>
                    @if(user.account.exists(_.staff)) {
                    <li>
                        <a href="/admin">@Messages("pages.admin")</a>
                    </li>
                    }
                    }
                    <li class="slide-out-div">
                        <a class="handle" href="@controllers.portal.routes.Feedback.feedback">@Messages("portal.feedback")</a>

                        <div id="suggestions">
                            <div id="suggestion-thanks" class="alert alert-success">
                                <h4>@Messages("portal.feedback.thanks")</h4>
                                @Messages("portal.feedback.thanks.message")
                            </div>

                            @feedbackForm(models.Feedback.form)
                        </div>
                    </li>
                    @if(userOpt.isDefined) {
                    <li>
                        <a href="@controllers.portal.account.routes.Accounts.logout">
                            @Messages("portal.logout")

                        </a>
                    </li>
                    } else {
                    <li>
                        <a href="@controllers.portal.account.routes.Accounts.login">
                            @Messages("portal.login")
                        </a>
                    </li>
                    }
                </ul>
            </div>
        </div>
    </nav>

    <nav class="navbar navbar-default" role="navigation" id="navbar-primary-container">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#navbar-primary" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div id="navbar-primary" class="navbar-collapse collapse">
                <div id="navbar-logo" >
                    <a href="@controllers.portal.routes.Portal.index">
                        <img height="45px" width="90px" src="@controllers.portal.routes.Assets.versioned("img/logo-trans-small.png")" rel="logo" />
                    </a>
                </div>
                <ul class="nav navbar-nav">
                    <li class="country @views.Helpers.maybeActivePath(controllers.portal.routes.Portal.browseCountries.url)">
                        <a href="@controllers.portal.routes.Portal.browseCountries">@Messages("portal.type.country")</a>
                    </li>
                    <li class="repository @views.Helpers.maybeActivePath(controllers.portal.routes.Portal.browseRepositories.url)">
                        <a href="@controllers.portal.routes.Portal.browseRepositories">@Messages("portal.type.repository")</a>
                    </li>
                    <li class="documentaryUnit @views.Helpers.maybeActivePath(controllers.portal.routes.Portal.browseDocuments.url)">
                        <a href="@controllers.portal.routes.Portal.browseDocuments">@Messages("portal.type.documentaryUnit")</a>
                    </li>
                    <li class="historicalAgent @views.Helpers.maybeActivePath(controllers.portal.routes.Portal.browseHistoricalAgents.url)">
                        <a href="@controllers.portal.routes.Portal.browseHistoricalAgents">@Messages("portal.type.historicalAgent")</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
