@(them: UserProfile, items: utils.AbstractPage[AnyModel])(implicit userOpt: Option[UserProfile], req: RequestHeader, lang: Lang, globalConfig: global.GlobalConfig)

@defining(userOpt.exists(_.id == them.id)) { isCurrentUser =>

    @if(items.nonEmpty) {
        <ul class="watched-items">
            @items.map { item =>
                <li>
                    @views.html.p.listItem(item, true)
                </li>
            }
        </ul>
        @common.pagination(items)
        <div class="list-export-options">
            <span class="glyphicon glyphicon-download"></span>
            @for(fmt <- Seq(DataFormat.Text, DataFormat.Csv, DataFormat.Json)) {
                <a class="alt" target="_blank" title="@Messages("download.format." + fmt.toString)" href="@controllers.portal.users.routes.UserProfiles.watching(format = fmt)&limit=-1">
                @fmt
                </a>
            }

        </div>
    } else {
        <p class="no-content">
            @if(isCurrentUser) {
                @Messages("social.noItemsWatchedYet")
            } else {
                @Messages("social.noUserItemsWatchedYet", them.toStringLang)
            }
        </p>
    }
}