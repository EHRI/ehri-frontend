@(them: UserProfile, events: utils.RangePage[SystemEvent], params: utils.RangeParams, followed: Boolean, canMessage: Boolean)(implicit userOpt: Option[UserProfile], request: RequestHeader, prefs: utils.SessionPrefs, globalConfig: global.GlobalConfig, lang: Lang, flash: Flash)

@views.html.p.layout.portalLayout(Messages("activity.by", them.toStringLang), "userProfile") {
    @profileBar(them){
        @for(user <- userOpt if user.id != them.id) {
        <div class="btn-group">
            @views.html.p.common.messageButtons(them, canMessage)
            @views.html.p.common.followingButtons(them, followed)
        </div>
        }
    }

    @layout.mainContent {
        @details(them)
        <div class="user-profile-content">
            <h3 class="block-header userProfile">
                @Messages("activity")
            </h3>
            @views.html.p.activity.activityStream(them, events)
        </div>
    }
}