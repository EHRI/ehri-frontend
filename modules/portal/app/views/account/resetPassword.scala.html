@(form: Form[(String,String)], action: Call)(implicit userOpt: Option[UserProfile], req: RequestHeader, conf: AppConfig, flash: Flash, messages: Messages,prefs: SessionPrefs)

@implicitField = @{ views.html.helper.FieldConstructor(views.html.helpers.fieldTemplateSignUp.f) }

@views.html.layout.loginLayout(Messages("login.password.reset"), scripts = views.html.common.passwordValidationScripts()) {
    @views.html.common.itemHeader(Messages("login.password.reset"))

    @helper.form(action = action, attrs._class -> "login-form form signup-form", attrs._role -> "form") {
        @formHelpers.csrfToken()
        @formHelpers.globalErrors(form)

        @helper.inputPassword(
            form("password"),
            attrs._autofocus -> "autofocus",
            attrs._placeholder -> Messages("login.password.new"),
            attrs._required -> true,
            attrs._class -> "form-control form-control-lg",
            attrs._minlength -> conf.minPasswordLength
        )
        @helper.inputPassword(
            form("confirm"),
            attrs._placeholder -> Messages("login.password.new.confirm"),
            attrs._required -> true,
            attrs._class -> "form-control form-control-lg",
            attrs._minlength -> conf.minPasswordLength,
            attrs._oninput -> s"${attrs.passwordCustomValidity()}"
        )

        @views.html.common.passwordValidationWidget()

        <div class="form-field">
            <input type="submit" class="login-button btn btn-lg btn-post" value="@Messages("login.password.change.submit")">
        </div>
    }
}

