@(result: utils.search.ItemPage[(AnyModel, utils.search.SearchHit)], params: utils.search.SearchParams, action: Call, key: String = "portal.search", headerKey: String = "pagination.displayingItems", autofocus: Boolean = false)(html: Html)(facets: Html = Html(""))(implicit userOpt: Option[UserProfile], req: RequestHeader, globalConfig: global.GlobalConfig, lang: Lang, flash: Flash)

@import utils.search.SearchParams

@helper.form(action = action, 'role -> "form") {

    @common.search.searchBar(params, autofocus = autofocus, placeholder = key)
    <div class="search-results">
        <div class="search-results-body">
            <div class="search-result-errata">
                @common.search.searchSummary(result, params)
                @common.search.searchSort(params)
            </div>

            @common.search.selectedFacets(result)

            @html
            @views.html.common.pagination(result)
        </div>
        <div class="search-facets sidebar">
            @facets
        </div>
    </div>
}
