@import "mixins";

/**
  Bootstrap 4-based layout and responsiveness.
 */
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

// Main page right sidebar layouts
article.double, .search-results {
  // Place sidebar on the right...
  > aside {
    @extend .order-last;
  }

  @include media-breakpoint-up(lg) {

    @include make-row();

    > aside {
      @include make-col-ready();
      @include make-col(3);
    }

    > section {
      @include make-col-ready();
      @include make-col(9);
    }
  }
}

// Description text fields
@include media-breakpoint-up(lg) {
  .item-text-field {
    @include make-row();

    > .item-text-field-header {
      @include make-col-ready();
      @include make-col(3);
    }

    > .item-text-field-value {
      @include make-col-ready();
      @include make-col(9);
    }
  }
}

// Breadcrumbs
.info-bar {
  > ul,
  > ol {
    @extend .container, .breadcrumb;
    > li {
      @extend .breadcrumb-item;
    }
  }
}

// Homepage
#welcome-container {
  @extend .container;
}

#portal-sections, #portal-section-contents, #portal-info {
  @extend .row;
}

.welcome-section {
  @include make-col-ready();
  @include make-col(4);

  @include media-breakpoint-down(sm) {
    @include make-col(12);
  }
}

.info-container {
  @include make-col-ready();
  @include make-col(6);

  @include media-breakpoint-down(sm) {
    @include make-col(12);
  }
}

// Navbar
ul.dropdown-menu {
  > li {
    @extend .dropdown-item;
  }
}

// Sidebar
.item-sidebar-actions, .export-formats {
  @include list-unstyled();
}

// Footer
#portal-footer {
  margin-top: auto;

  #footer-content {
    @extend .container;

    #footer-navs {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
    }

    #lang-switcher,
    #navbar-tertiary {
      @include list-unstyled();
      display: flex;
      flex-direction: row;

      li {
        a {
          padding: .5rem 1rem;
        }
      }
      li.active a {
        color: $text-muted;
        pointer-events: none;
      }
    }

    #lang-switcher {
      margin-left: auto;
      li:last-child {
        margin-right: -1rem;
      }
    }

    #navbar-tertiary {
      li:first-child {
        margin-left: -1rem;
      }
    }
  }
}

// Activity stream / Timeline
#activity-stream {
  @include list-unstyled();
}

.timeline-event {
  @extend .media;

  .timeline-body {
    @extend .media-body;
  }
}

// Search form and results
#search-helper {
  @extend .collapse;
}

.search-result-list {
  @include list-unstyled();
}

.search-item-details {
  > ul {
    @include list-unstyled();
    @include list-inline();
    li {
      padding-right: $margin-xxs;
    }
    li:last-child {
      padding-right: 0;
    }
  }
}

ul.pagination {
  li {
    @extend .page-item;

    a {
      @extend .page-link;
    }
  }
}

.facet-classes {

  @include list-unstyled();

  // Show facets in wide views
  &.collapse {
    @include media-breakpoint-up(lg) {
      display: block;
    }
  }
}

.search-bar {
  @include make-row();

  > .search-box {
    @include make-col-ready();
    @include make-col(10);
  }

  > .search-helper-container {
    @include make-col-ready();
    @include make-col(2);
  }
}

.search-result-errata {
  @include clearfix();

  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-between;
}

// Users pages and profile
.user-list {
  @include list-unstyled();
}

.user-controls {
  @extend .list-group;

  > li {
    @extend .list-group-item;
  }
}

.user-actions {
  @extend .list-group;

  > li {
    @extend .list-group-item;
  }
}

.user-thumbnail {
  width: 3rem;
  height: 3rem;
}

.user-grid {
  @include list-unstyled();
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;

  .user-info {
    width: 30rem;
    float: left;

    .img-container {
      width: 10rem;
      height: 10rem;
      overflow: hidden;
    }
  }
}

.user-info {
  @extend .media;

  .user-info-details {
    @extend .media-body;

    > ul {
      @include list-unstyled();
    }
  }

  .follow-controls {
    float: right;
  }
}

// Description pages
.description-holder.inactive {
  display: none;
}

// Description lists (dl) elements... make
// responsive for wide sizes
@include media-breakpoint-up(md) {
  dl {
    @include make-row();

    dt {
      @include make-col-ready();
      @include make-col(3);
    }
    dd {
      @include make-col-ready();
      @include make-col(9);
    }
  }
}
