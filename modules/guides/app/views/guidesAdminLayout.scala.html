@(title: String, guides: List[Guide], layouts: Option[(List[GuidesPage], Guide)] = None, breadcrumbs:Html = Html(""), sideBar: Html= Html(""))(content: Html)(implicit userOpt: Option[UserProfile], req: RequestHeader, globalConfig: global.GlobalConfig, lang: Lang, flash: Flash)

@layout.rightSidebar(title, breadcrumbs = breadcrumbs) {
	<div>
		@content
	</div>
} {
	<h4>Available Guides</h4>
	<ul class="nav nav-pills nav-stacked">
		@for(guide <- guides) {
			<li>
				<a href="@controllers.guides.routes.GuidesAdmin.listPages(guide.path)">@guide.name</a>
			</li>
		}
		<li>
			<a href="@controllers.guides.routes.GuidesAdmin.create()"><span class="glyphicon glyphicon-plus-sign"></span> @Messages("guides.create")</a>
		</li>
	</ul>
	@layouts.map { pages =>
		<h4>Pages for this guide</h4>
		<ul class="nav nav-pills nav-stacked">
			@for(page <- pages._1) {
				<li>
					<a href="@controllers.guides.routes.GuidesAdmin.editPages(pages._2.path, page.path)">@page.name</a>
				</li>
			}
			<li>
				<a href="@controllers.guides.routes.GuidesAdmin.createPages(pages._2.path)"><span class="glyphicon glyphicon-plus-sign"></span> @Messages("guides.page.create")</a>
			</li>
		</ul>
	}
	@sideBar
}