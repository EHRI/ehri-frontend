@(desc: play.api.data.Field)(implicit fieldPrefix: String, userOpt: Option[UserProfile], req: RequestHeader, globalConfig: global.GlobalConfig, lang: Lang)

@import DatePeriodF._

@*implicitField = @{ views.html.helper.FieldConstructor(common.dateFieldTemplate.f) }*@


<div class="inline-element" id="@desc.id">
    @formHelpers.hiddenInput(desc(Entity.ID))
        <div class="row">
            <div class="col-xs-3">
                <select class="form-control" name="@desc("TYPE").name">
                @DatePeriodType.values.toList.sorted.map { v =>
                    <option @{if(desc("TYPE").value == v) "selected" else ""} value="@v">@Messages(fieldPrefix + "." + v)</option>
                }
                </select>
            </div>
            @List(START_DATE, END_DATE).map { fname =>
                @defining(desc(fname)) { field =>
                    <div class="col-xs-4 @{if(field.hasErrors) "has-error"}">
                        <input class="form-control datepicker"  data-date-format="mm/dd/yyyy" placeholder="yyyy-mm-dd" type="text" name="@field.name" value="@field.value" placeholder="@Messages(fieldPrefix + "." + fname)" id="@field.id" />
                    </div>
                }
            }
            <div class="col-xs-1 text-right">
                <a class="remove-inline-element" tabindex="-1" href="#">&times;</a>
            </div>
        </div>
        <div class="row">
            @List(START_DATE, END_DATE).map { fname =>
                @defining(desc(fname)) { field =>
                    <div class="col-xs-3 has-error">
                        @if(field.hasErrors) {
                            <small>
                                <span class="help-block">@field.errors.map(e => Messages(e.message, e.key)).mkString("; ")</span>
                            </small>
                        }
                     </div>
                }
            }
        </div>
</div>

