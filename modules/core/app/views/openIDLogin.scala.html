@(form: Form[String], action: Call, oauthProviders: Map[String,Call] = Map.empty)(implicit userOpt: Option[Account], request: RequestHeader, globalConfig: global.GlobalConfig, flash: Flash, lang: Lang, token: play.filters.csrf.CSRF.Token)

@implicitField = @{ views.html.helper.FieldConstructor(formHelpers.fieldTemplate.f) }

@openIdJquery = {
    <script src="@controllers.core.routes.Assets.at("js/jquery-1.7.1.min.js")" type="text/javascript"></script>
    <script src="@controllers.core.routes.Assets.at("jquery-openid/jquery.openid.js")"></script>
    <script type="application/javascript">
        jQuery(function($) {
        // Openid
            $("form.openid").openid();
        });
    </script>
}

@openIdStyles = {
    <link href="@controllers.core.routes.Assets.at("jquery-openid/openid.css")" rel="stylesheet">
    <link href="@controllers.core.routes.Assets.at("css/zocial.css")" rel="stylesheet">
}

@layout.adminLoginLayout(Messages("login.login"), scripts=openIdJquery, styles=openIdStyles) {
    
    <h2>@Messages("login.login")</h2>
    @common.errorFlash(flash)


    <h3>@Messages("login.openid")</h3>
    @helper.form(action = action, 'class -> "openid form") {
        @formHelpers.csrfToken()
        <div>
            <ul class="providers">
                <li class="openid" title="OpenID">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/openidW.png")" alt="icon" />
                    <span><strong>http://{your-openid-url}</strong></span>
                </li>
                <li class="direct" title="Google">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/googleW.png")" alt="icon" />
                    <span>https://www.google.com/accounts/o8/id</span>
                </li>
                <li class="direct" title="Yahoo">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/yahooW.png")" alt="icon" />
                    <span>http://me.yahoo.com/</span>
                </li>
                <li class="username" title="AOL screen name">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/aolW.png")" alt="icon" />
                    <span>http://openid.aol.com/<strong>username</strong></span>
                </li>
                <li class="username" title="Flickr user name">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/flickr.png")" alt="icon" />
                    <span>http://flickr.com/<strong>username</strong>/</span>
                </li>
                <li class="username" title="Wordpress blog name">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/wordpress.png")" alt="icon" />
                    <span>http://<strong>username</strong>.wordpress.com</span>
                </li>
                <li class="username" title="Blogger blog name">
                    <img src="@controllers.core.routes.Assets.at("jquery-openid/images/blogger.png")" alt="icon" />
                    <span>http://<strong>username</strong>.blogspot.com/</span>
                </li>
            </ul>
        </div>
        <fieldset>
            <label for="openid_username">Enter your <span>Provider user name</span></label>
            <div>
                <span></span>
                    <input type="text" name="openid_username" />
                <span></span>
                <input type="submit" class="button xs" value="Login" />
            </div>
        </fieldset>

        @formHelpers.globalErrors(form)

        <div class="clearfix"></div>
        
        <input type="text" class="form-control" name="openid_identifier" placeholder="OpenId Identifier" />

        <div class="clearfix"></div>

        <input type="submit" class="login-button" value="@Messages("submitButton.loginWithOpenid")" />
        
    }

    @if(!oauthProviders.isEmpty) {
        <hr />
        <h3>@Messages("login.existingAccount")</h3>
        @oauthProviders.map { case (name, call) =>
            <a class="zocial @name" href="@call">@name</a>
        }
    }

    <hr />
    <p><a href="@controllers.core.routes.Admin.login">@Messages("login.linkToPasswordLogin")</a></p>
}(None, request, globalConfig, lang)

