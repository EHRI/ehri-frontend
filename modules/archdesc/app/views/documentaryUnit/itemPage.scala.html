@(item: DocumentaryUnit, scripts: Html = Html(""), styles: Html = Html(""), sidebar: Html = Html(""))(html: Html)(implicit userOpt: Option[UserProfile], req: RequestHeader, globalConfig: global.GlobalConfig, lang: Lang, flash: Flash)

@layout.rightSidebar(item.model.identifier, breadcrumbs = documentaryUnit.breadcrumbs(item), scripts = scripts, styles = styles) {
    @html
} {

    @sidebar

    @common.visibility(item, controllers.archdesc.routes.DocumentaryUnits.visibility(item.id), ContentTypes.DocumentaryUnit)
    @common.latestAction(item, controllers.archdesc.routes.DocumentaryUnits.history(item.id))

    @common.sidebarActions { user =>
        @common.sidebarAction(user.hasPermission(ContentTypes.DocumentaryUnit, PermissionType.Create)) {
            <a href="@controllers.archdesc.routes.DocumentaryUnits.createDoc(item.id)">@Messages("actions.createChildDocUnit")</a>
        }
        @common.sidebarAction(user.hasPermission(ContentTypes.DocumentaryUnit, PermissionType.Annotate)) {
            <a href="@controllers.archdesc.routes.DocumentaryUnits.linkAnnotateSelect(item.id, EntityType.DocumentaryUnit)">@Messages("link.create")</a>
        }
        @common.sidebarAction(user.hasPermission(ContentTypes.DocumentaryUnit, PermissionType.Update)) {
            <a href="@controllers.archdesc.routes.DocumentaryUnits.update(item.id)">@Messages("item.update")</a>
        }
        @common.sidebarAction(user.hasPermission(ContentTypes.DocumentaryUnit, PermissionType.Update)) {
            <a href="@controllers.archdesc.routes.DocumentaryUnits.visibility(item.id)">@Messages("visibility.update")</a>
            }
        @common.sidebarAction(user.hasPermission(ContentTypes.DocumentaryUnit, PermissionType.Delete)) {
            <a href="@controllers.archdesc.routes.DocumentaryUnits.delete(item.id)">@Messages("item.delete")</a>
            }
        @common.sidebarAction(user.hasPermission(ContentTypes.DocumentaryUnit, PermissionType.Grant)) {
            <a href="@controllers.archdesc.routes.DocumentaryUnits.managePermissions(item.id)">@Messages("permissions.manage")</a>
        }
        @common.sidebarAction() {
            <a href="@controllers.core.routes.ApiController.getItem(ContentTypes.DocumentaryUnit.toString, item.id)">@Messages("item.export.json")</a>
        }
    }
}