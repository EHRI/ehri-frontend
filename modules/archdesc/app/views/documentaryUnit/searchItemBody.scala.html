@(item: DocumentaryUnit, desc: DocumentaryUnitDescriptionF)(implicit userOpt: Option[UserProfile], req: RequestHeader, globalConfig: global.GlobalConfig, lang: Lang)

@import org.apache.commons.lang3.StringUtils

@if(!item.ancestors.isEmpty) {
    <small>
        <ul class="unstyled muted inline inline-separator">
            @item.ancestors.reverse.map { parent =>
                <li>
                    <a href="@controllers.archdesc.routes.DocumentaryUnits.get(parent.id)">@views.Helpers.ellipsize(parent.toStringLang,100)</a>
                </li>
            }
        </ul>
    </small>
}
<small>
    <ul class="unstyled muted inline inline-separator">
        @item.holder.map { holder =>
            <li><a class="alt" href="@controllers.archdesc.routes.Repositories.get(holder.id)">@holder.toStringAbbr</a></li>
        }
        <li><span class="muted">@views.Helpers.displayLanguage(desc.languageCode)</span></li>

        @desc.dates.headOption.map { dp =>
            <li>@dp.years</li>
        }
        @desc.extentAndMedium.map { s =>
            <li>@s</li>
        }
        @item.latestEvent.map { event =>
            <li title="@common.eventTitle(event)">
                <time datetime="@event.model.timestamp">@Messages("systemEvents.lastUpdated", views.Helpers.prettyDate(event.model.timestamp))</time>
            </li>
        }
    </ul>
    @item.childCount.map { count =>
        @if(count > 0) {
            <div class="child-count">
                <a href="@controllers.archdesc.routes.DocumentaryUnits.get(item.id)#search-items">
                    @Messages("documentaryUnit.childCount", count)</a>
            </div>
        }
    }
</small>
@desc.displayText.map(StringUtils.abbreviate(_, 600)).map { sc =>
    <p>@sc</p>
}


