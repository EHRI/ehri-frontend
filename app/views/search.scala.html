@(result: solr.ItemPage[models.base.DescribedEntity], params: solr.SearchParams, facets: List[solr.facet.AppliedFacet], action: Call, showAction: String => Call)(implicit userOpt: Option[UserProfile], req: RequestHeader, lang: Lang, flash: Flash)

@rightSidebarLayout(Messages("forms.search")) {
	@helper.form(action = action, 'class -> "form-search") {
        <div class="controls-row">
            <input type="text" class="span10 search-query" name="q" value="@params.query" />
            <button type="submit" class="btn">@Messages("forms.search")</button>
        </div>

        <p>
            @common.selectedFacets(result)
        </p>

        <h3>@Messages("pagination.displayingItems", result.offset + 1, result.offset + result.items.size, result.total)</h3>

        @common.pagination(result)
		<ul class="unstyled">
		@result.items.map { item =>
            @item match {

                case d: DocumentaryUnit => {
                    @documentaryUnit.listItem(d)
                }

                case _ => {
                    <li>
                        <h5>
                            <a href="@views.Helpers.urlFor(item)">@item</a>

                        </h5>
                        <p class="search-hit-description">
                            @item.descriptions.headOption.map { d =>
                                @d.e.stringProperty(IsadG.SCOPE_CONTENT)
                            }
                        </p>
                    </li>
                }
            }
		}
		</ul>
	}
} {
    @common.facetList(result.facets, action)
}