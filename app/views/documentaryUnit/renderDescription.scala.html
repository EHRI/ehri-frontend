@(item: DocumentaryUnit, desc: DocumentaryUnitDescription, links: List[Link], actionMenu: Html = Html(""))(implicit fieldPrefix: String, userOpt: Option[UserProfile], req: RequestHeader, lang: Lang)

@import defines._
@import models.IsadG._
@import views.html.common.descriptionListValue
@import views.html.common.descriptionSection

@common.descriptionOutline(desc, desc.languageCode) {
	<div class="span3 pull-right well well-small">
		<dl>
			@item.holder.map { holder =>
				<dt>@Messages("documentaryUnit.heldBy")</dt><dd> <a href="@routes.Repositories.get(holder.id)">@holder.toStringLang</a></dd>
			}
			@item.parent.map { parent =>
					<dt>@Messages("documentaryUnit.parentItem"): </dt><dd> <a href="@routes.DocumentaryUnits.get(parent.id)">@parent.name</a></dd>
			}
			<hr />
			@if(!desc.dates.isEmpty) {
				<dt>@Messages(fieldPrefix + "." + DATES)</dt>
				<dd>
					@desc.dates.map(_.formable).map { dp =>
							@defining(dp.`type`) { typeOpt =>
								@typeOpt.map { t =>
									@Messages(fieldPrefix + "." + t)
								}
							}
						@dp.years.trim
					}
				</dd>
					
			}

			@common.descriptionListValue(desc, LEVEL_OF_DESCRIPTION)
			@common.descriptionListValue(desc, EXTENT_MEDIUM)
			
			@common.descriptionListValue(desc, ACQUISITION)
			<hr />
			@actionMenu
			<hr />
			@common.visibilityNotWell(item, routes.DocumentaryUnits.visibility(item.id), ContentType.DocumentaryUnit)
			@common.latestActionNotWell(item, routes.DocumentaryUnits.history(item.id))
		</dl>
	</div>
    
    @descriptionSection(CONTEXT_AREA) {
        @common.stringValue(desc, ADMIN_BIOG)
        @common.stringValue(desc, ARCH_HIST)
    }

    @descriptionSection(CONTENT_AREA) {
        @common.stringValue(desc, SCOPE_CONTENT)
        @common.stringValue(desc, APPRAISAL)
        @common.stringValue(desc, ACCRUALS)
        @common.stringValue(desc, SYS_ARR)
    }

    @descriptionSection(CONDITIONS_AREA) {
        @common.stringValue(desc, ACCESS_COND)
        @common.stringValue(desc, REPROD_COND)
        @common.listValue(desc, LANG_MATERIALS, transformFunc = {s => views.Helpers.languageCodeToName(s)})
        @common.listValue(desc, SCRIPT_MATERIALS, transformFunc = {s => views.Helpers.scriptCodeToName(s)})
        @common.stringValue(desc, PHYSICAL_CHARS)
        @common.stringValue(desc, FINDING_AIDS)
    }

    @descriptionSection(MATERIALS_AREA) {
        @common.stringValue(desc, LOCATION_ORIGINALS)
        @common.stringValue(desc, LOCATION_COPIES)
        @common.stringValue(desc, RELATED_UNITS)
        @common.stringValue(desc, PUBLICATION_NOTE)
    }

    @descriptionSection(CONTROL_AREA) {
        @common.stringValue(desc, ARCHIVIST_NOTE)
        @common.stringValue(desc, RULES_CONVENTIONS)
        @common.stringValue(desc, DATES_DESCRIPTIONS)
    }

    @common.relatedLinks(item, desc, links)

    @desc.unknownProperty.map { e =>
        @common.unknownData(e)
    }
}
