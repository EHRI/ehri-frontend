@(item: DocumentaryUnit, desc: models.base.Description)(implicit userOpt: Option[UserProfile], lang: Lang, req: RequestHeader, flash: Flash)

@extrascripts = {
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular-sanitize.min.js"></script>
    <script src="@routes.Assets.at("javascripts/ui-bootstrap-0.2.0.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/DocumentaryUnit.js")" type="text/javascript"></script>
	<script>
		window.ITEM_ID = "@item.id";
		window.DESC_ID = "@desc.id";
	</script>
    @helper.javascriptRouter("jsRoutes")(
        routes.javascript.DocumentaryUnits.get,
        routes.javascript.DocumentaryUnits.createLink,
        routes.javascript.DocumentaryUnits.createAccessPointLink,
        routes.javascript.DocumentaryUnits.getLink,
        routes.javascript.DocumentaryUnits.getAccessPointsJson,
        routes.javascript.DocumentaryUnits.deleteAccessPoint,
        routes.javascript.Links.deletePost
    )
}

@documentaryUnit.itemPage(item, scripts = extrascripts) {
	<div ng-app="DocumentaryUnit">
		<div ng-controller="DocumentaryCtrl">
			<a class="btn btn-success pull-right" ng-click="AddAccessModal(accesslist.id)">Add</a>
			
			<h4>{{AccessTITLE}} </h4>
			
			<ul class="unstyled">
				<li ng-repeat="category in accesslist.data" class="accessPointList">
					<h3>{{category.type}} [<a class="icon icon-plus" ng-click="AddSelectedAccess(category.type, accesslist.id)"></a>]</h3>
					<ul class="item-annotation-links">
						<li ng-repeat="access in category.data"  id="{{access.accessPoint.id}}">
						
							
							<span ng-show="(access.link)">
								<a href="{{access.targetUrl}}">{{access.accessPoint.data.name}}</a>
								<a ng-click="DeleteAccessLink(access.link.id, access.accessPoint.data.name)">-</a>
							</span>
							
							<span ng-show="!(access.link)">
								{{access.accessPoint.data.name}}
                                <a title="@Messages("accessPoint.removeAccessPoint")"
                                    class="icon icon-remove" ng-click="DeleteAccessPoint(access.accessPoint.id, access.accessPoint.data.name)"></a>
								<a title="@Messages("accessPoint.addAccessPointLink")"
                                    class="icon icon-plus" ng-click="OpenModalAccess(access.accessPoint.id , access.accessPoint.data.name)"></a>
							</span>
							
							<small ng-show="access.accessPoint.data.description != null">
								<p class="muted">{{access.accessPoint.data.description}}</p>
							</small>
							
						</li>
					</ul>
			</ul>
		</div>
	</div>
}