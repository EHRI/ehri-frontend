@(title: String, scripts: Html = Html(""), styles: Html = Html(""))(maybeUser: Option[UserProfile], req: RequestHeader)(content: Html)(implicit lang: Lang)

@import defines._

<!DOCTYPE html>

<html>
    <head>
        <title>@title</title>
        <script src="@routes.Assets.at("javascripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("jquery-openid/jquery.openid.js")"></script>
        <script src="@routes.Assets.at("stylesheets/bootstrap/js/bootstrap.js")"></script>
        @scripts

        <!--<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">-->
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <link href="@routes.Assets.at("stylesheets/bootstrap/css/bootstrap.css")" rel="stylesheet">
        <link href="@routes.Assets.at("jquery-openid/openid.css")" rel="stylesheet">
        @styles

        <style>
            .page-content {
                padding-top: 40px;
            }
        </style>
    </head>
    <body>

        @activeIfCurrent(call: Call, text: String) = {
            <li class="@{if(req.path.startsWith(call.toString)) "active" else ""}"><a href="@call">@text</a></li>
        }

		<div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand" href="/">@Messages("banner.heading")</a>
                     <div id="head-section" class="pull-right">
                         @maybeUser.flatMap(_.account).map { account =>
                     <span>@account.email (<a href="/logout" id="signout">@Messages("banner.signout")</a>)</span>
                     }.getOrElse {
                     <a href="/login" id="signin">@Messages("banner.signin")</a>
                         }
                     </div>
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                            @activeIfCurrent(routes.DocumentaryUnits.list(1, 20), Messages("contentTypes." + EntityType.DocumentaryUnit))
                            @activeIfCurrent(routes.Agents.list(1, 20), Messages("contentTypes." + EntityType.Agent))
                            @activeIfCurrent(routes.UserProfiles.list(1, 20), Messages("contentTypes." + EntityType.UserProfile))
                            @activeIfCurrent(routes.Groups.list(1, 20), Messages("contentTypes." + EntityType.Group))
                            @activeIfCurrent(routes.ActionLogs.list(1, 20), Messages("contentTypes." + EntityType.ActionLog))
                        </ul>
                    </div>
                </div>
            </div>
		</div>
        @content
    </body>
</html>
