@(item: Repository, desc: RepositoryDescription, links: List[Link])(sidebar: Html)(implicit userOpt: Option[UserProfile], req: RequestHeader, lang: Lang, fieldPrefix: String)

@import Isdiah._
@import common.descriptionSection

@common.descriptionOutline(desc, desc.languageCode) {
	<div class="span3 pull-right well well-small">
		<div class="text-center"><h5 class="text-center">@desc</h5></div>
		<dl>
			@common.descriptionListValue(item, Isdiah.IDENTIFIER)
			<dt>Address</dt>
			<dd class="address" title='@Messages("isdiah.addressArea")'>
				@desc.addresses.map { address =>
					<ul class="unstyled" title="@address.stringProperty(ADDRESS_NAME)">
						@List(CONTACT_PERSON, STREET_ADDRESS,CITY,REGION).map { addressPart =>
							@address.stringProperty(addressPart).map { addressPartValue =>
								<li title='@Messages("isdiah." + addressPart)'>@addressPartValue</li>
							}
						}
						@address.stringProperty(COUNTRY_CODE).map { cc =>
							<li title='@Messages("isdiah." + COUNTRY_CODE)'>@views.Helpers.countryCodeToName(cc)</li>
						}
					</ul>
				}
				</dd>
				<dt>Contact</dt>
				<dd>
					<ul class="unstyled">
						@desc.addresses.map { address =>
							@List(EMAIL, TELEPHONE, FAX, URL).map { addressPart =>
								@address.stringProperty(addressPart).map { addressPartValue =>
									<li title='@Messages("isdiah." + addressPart)'><i class='@Messages("icon." + addressPart)'></i> @addressPartValue</li>
								}
							}
						}
					</ul>
				</dd>
			@*common.descriptionListValue(desc, IDENTIFIER)*@
			@sidebar
		</dl>
	</div>
    @descriptionSection(IDENTITY_AREA) {
        @common.stringValue(desc, AUTHORIZED_FORM_OF_NAME)
        @common.listValue(desc, PARALLEL_FORMS_OF_NAME)
        @common.listValue(desc, OTHER_FORMS_OF_NAME)
    }

   

    @descriptionSection(DESCRIPTION_AREA) {
        @common.stringValue(desc, HISTORY)
        @common.stringValue(desc, GEOCULTURAL_CONTEXT)
        @common.stringValue(desc, MANDATES)
        @common.stringValue(desc, ADMINISTRATIVE_STRUCTURE)
        @common.stringValue(desc, RECORDS)
        @common.stringValue(desc, BUILDINGS)
        @common.stringValue(desc, HOLDINGS)
        @common.stringValue(desc, FINDING_AIDS)
    }

    @descriptionSection(ACCESS_AREA) {
        @common.stringValue(desc, OPENING_TIMES)
        @common.stringValue(desc, CONDITIONS)
        @common.stringValue(desc, ACCESSIBILITY)
    }

    @descriptionSection(SERVICES_AREA) {
        @common.stringValue(desc, RESEARCH_SERVICES)
        @common.stringValue(desc, REPROD_SERVICES)
        @common.stringValue(desc, PUBLIC_AREAS)
    }

    @descriptionSection(CONTROL_AREA) {
        @common.stringValue(desc, DESCRIPTION_IDENTIFIER)
        @common.stringValue(desc, INSTITUTION_IDENTIFIER)
        @common.stringValue(desc, RULES_CONVENTIONS)
        @common.stringValue(desc, STATUS)
        @common.stringValue(desc, LEVEL_OF_DETAIL)
        @common.stringValue(desc, DATES_CVD)
        @common.listValue(desc, LANGUAGES_USED, transformFunc = {s => views.Helpers.languageCodeToName(s)})
        @common.listValue(desc, SCRIPTS_USED, transformFunc = {s => views.Helpers.scriptCodeToName(s)})
        @common.stringValue(desc, SOURCES)
        @common.stringValue(desc, MAINTENANCE_NOTES)
    }

    @common.relatedLinks(item, desc, links)

    @desc.unknownProperty.map { e =>
        @common.unknownData(e)
    }
}