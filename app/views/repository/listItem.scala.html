@(item: Repository)(implicit req: RequestHeader, lang: Lang)

@import Isdiah._

@common.searchItemOutline {
    <a href="@routes.Repositories.get(item.id)">@item</a>
} {
    @item.descriptions.headOption.map { desc =>
        <small>
            <ul class="unstyled muted inline inline-separator">
                @desc.addresses.headOption.map { address =>
                    @List(STREET_ADDRESS, CITY, REGION).map { adpart =>
                        @address.stringProperty(adpart).filterNot(_.trim.isEmpty).map { part =>
                            <li>@part</li>
                        }
                    }
                    @address.stringProperty(COUNTRY_CODE).map { cc =>
                        <li>@views.Helpers.countryCodeToName(cc)</li>
                    }
                }
            </ul>
        </small>
        <p>@desc.stringProperty(GENERAL_CONTEXT)</p>
    }.getOrElse {
        <small>@Messages("describedEntity.noDescriptions")</small>
    }
}
