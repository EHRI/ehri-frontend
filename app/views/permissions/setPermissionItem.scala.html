@(item: AccessibleEntity, accessor: Accessor, perms: ItemPermissionSet[Accessor], contentType: ContentType.Value, action: Call)(
    implicit user: UserProfile, req: RequestHeader, lang: Lang, flash: Flash)

@rightSidebarLayout(Messages("actions.grantPermissionsOnItem", item.identifier, accessor.name))(Some(user), req) {

	@helper.form(action = action, 'class -> "entity-form form-horizontal") {
		<fieldset id="permissionItem-area">

        <table class="permissions-matrix">
        <tr>
        @PermissionType.values.toList.map { perm =>
            <th>@perm</th>
        }
        </tr>
        <tr>
            @PermissionType.values.toList.map { perm =>
                <td>
                @defining(perms.get(perm)) { permOpt =>
                    <input type="checkbox" name="@contentType" value="@perm"
                    @if(permOpt.isDefined && permOpt.flatMap(_.inheritedFrom).isEmpty) {
                        checked
                    } />
                    @permOpt.flatMap(_.inheritedFrom).map { user =>
                        <span title="@Messages("permissions.inheritedFrom", user.name)">*</span>
                    }
                }
                </td>
            }
        </tr>
    </table>


		</fieldset>
	  
		<div class="form-actions">
			<button type="submit" class="btn btn-primary">@Messages("actions.updatePermissions")</button>
		</div>
	}
} {

}