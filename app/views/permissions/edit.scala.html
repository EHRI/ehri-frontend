@(item: Accessor[_], perms: PermissionSet[_], action: Call, maybeUser: Option[models.sql.User], req: RequestHeader)
 
@implicitField = @{ views.html.helper.FieldConstructor(common.fieldTemplate.f) }

  @main("Update Permissions")(maybeUser, req) {
	
    <h4>Set Permissions: @item.identifier</h4>
	
	@helper.form(action = action, 'class -> "entity-form form-horizontal") {
		<fieldset id="permissions-area">
			<legend>@Messages("Permissions")</legend>

			<table class="permissions-matrix">
				<tr>
					<th></th>
					@defines.PermissionType.values.toList.map { perm =>
					  <th>@perm.toString</th>					  
					}
				</tr>
				@defines.ContentType.values.toList.map { entity =>
				  	<tr>
						<td>@entity.toString</td>
						@defines.PermissionType.values.toList.map { perm =>
							<td>
								<input type="checkbox" name="@entity.toString" value="@perm.toString" 
									@if(perms.get(entity, perm).isDefined) {
									  checked
									} />
							</td>					  
						}						
					</tr>				  
				}
			</table>

		</fieldset>
	  			
		<div class="form-actions">
            <button type="submit" class="btn btn-primary">@Messages("Update")</button>
        </div>
	}
		
}
