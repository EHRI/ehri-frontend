@(item: AccessibleEntity)(implicit maybeUser: Option[models.sql.User], req: RequestHeader)

@accView(item: AccessibleEntity) = {
	<table>
		<tr>
			<th>Item:</th>
			<th>@item.identifier</th>
		</tr>
		<tr>
			<td></td>
			<td>@itemView(item)</td>
		</tr>
	</table>    
}

@itemView(item: Entity) = {
	<table>
		@item.data.map { case (k, v) =>
			<tr>
				<td>@k</td>
				<td>@v</td>
			</tr>
		}
	</table>  
}

@main("View item")(maybeUser, req) {
	
  
	<h4>Properties</h4>
	@itemView(item)
	
	@if(!item.relationships.isEmpty) {
		<h4>Relationships</h4>
		<table>
		@item.relationships.map { case (k, lst) =>
				<tr>
					<td>@k</td>
					<td></td>
				</tr>
		  		<tr>
					<td></td>
					<td>
						@lst.map { relItem =>
							@itemView(new AccessibleEntity(relItem))
							<hr />
						}
					</td>
				</tr>
			}
		</table>	  
	}

}